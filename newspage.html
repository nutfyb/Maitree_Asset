<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.bootstrap4.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.3.2/bootbox.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.bootstrap4.min.js"></script>
    <link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.min.css">
    <link href="assets/vendor/fonts/circular-std/style.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/libs/css/style.css">
    <link rel="stylesheet" href="assets/vendor/fonts/fontawesome/css/fontawesome-all.css">
    <link rel="stylesheet" href="assets/vendor/vector-map/jqvmap.css">
    <link href="assets/vendor/jvectormap/jquery-jvectormap-2.0.2.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/vendor/charts/chartist-bundle/chartist.css">
    <link rel="stylesheet" href="assets/vendor/charts/c3charts/c3.css">
    <link rel="stylesheet" href="assets/vendor/charts/morris-bundle/morris.css">
    <link rel="stylesheet" type="text/css" href="assets/vendor/daterangepicker/daterangepicker.css" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/localization/messages_th.min.js"></script>

    <!-- alert box -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-sweetalert/1.0.1/sweetalert.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-sweetalert/1.0.1/sweetalert.css">

    <title>นับครุภัณฑ์</title>
    <style>
        .card-body span {
            font-size: 45px;
            font-weight: 200;
            color: black;
        }

        .card-body span1 {
            font-size: 20px;
            font-weight: 200;
            color: black;
        }

        #upload {
            opacity: 0;
        }

        #upload-label {
            position: absolute;
            top: 50%;
            left: 1rem;
            transform: translateY(-50%);
        }

        .image-area {
            border: 2px dashed rgba(255, 255, 255, 0.7);
            padding: 1rem;
            position: relative;
        }

        .image-area::before {
            content: 'Uploaded image result';
            color: #fff;
            font-weight: bold;
            text-transform: uppercase;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.8rem;
            z-index: 1;
        }

        .image-area img {
            z-index: 2;
            position: relative;
        }

        .head-line {
            border-bottom: 6.5px solid #5969ff !important;
        }
    </style>
    <script>
        var table
        var fileName
        var EmailOwner //เมลคนประกาศ
        var number
        $(document).ready(function () {
            $("#all").click(function () {
                window.location.replace("/dashboard");
            });
            getItem();

            table = $('#myTable').DataTable({
                deferRender: true,
                columns: [
                    {
                        data: "Image",
                        render: function (data, type, full) {
                            if (type === 'display') {             //if column 
                                return '<img class="imgg" ' + ((full.Image != '' && full.Image != null) ? 'src="../upload/' + full.Image + '"' : 'src="../img/noimg.png"') + 'style="width: 100px;hiegh:100px"  alt=""> ';
                                // return '<input type="checkbox" ' + ((full.image_status == '1') ? 'checked' : '') + ' id="input' + full.image + '" />';
                            }
                            return data;
                        }, title: "รูป",
                    },
                    { data: "No", title: "ลำดับ", visible: false },
                    { data: "Number", visible: false },
                    { data: 'Head', title: "หัวข้อ" },
                    { data: "Detail", title: "รายละเอียด" },
                    { data: "DateEndCreate", title: "วันสิ้นสุดประกาศ" },
                    { data: "Email_announcer", title: "ผู้กำหนดประกาศ" },
                    {
                        data: "No",
                        render: function (data, type, full, meta) {
                            return data ? '<button class="btn btn-warning edit" id="edit' + full.No + '" style="width: 25px;hiegh:25px">แก้ไข</button> <button class="btn btn-danger delete" id=delete"' + full.No + '" style="width: 25px;hiegh:25px">ลบ</button>' : '';
                        }, title: "Actions", orderable: false
                    },
                    // { defaultContent: "<button id='edit' class='btn btn-warning ' style='width: 30px;hiegh:30px'>แก้ไข</button> <button id='btndelete' class='btn btn-danger' style='width: 30px;hiegh:30px'>ลบ</button> ", title: "Actions" , orderable: false }
                ],
                responsive: true,
            });

            Loadannounce();

            $('#CancelModal').click(function () {
                window.location.replace("/announce")
            })

            $('#CloseModal').click(function () {
                window.location.replace("/announce")
            })

            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('#imageResult')
                            .attr('src', e.target.result);
                    };
                    reader.readAsDataURL(input.files[0]);
                }
            }

            $(function () {
                $('#upload').on('change', function () {
                    readURL(input);
                });
            });

            /*  ==========================================
                SHOW UPLOADED IMAGE NAME
            * ========================================== */
            var input = document.getElementById('upload');
            var infoArea = document.getElementById('upload-label');

            input.addEventListener('change', showFileName);
            function showFileName(event) {
                var input = event.srcElement;
                fileName = input.files[0].name;
                infoArea.textContent = 'File name: ' + fileName;
            }
        });

        // Function crate table ===========================
        //=================================================

        function Loadannounce() {
            $.ajax({
                method: "GET",
                url: "/Loadannounce",
            }).done(function (dataSet, state, xhr) {
                for (let i = 0; i < dataSet.length; i++) {
                    dataSet[i].No = i + 1;
                }
                console.log(dataSet)
                //clear DataTable
                table.clear();
                //display modified JSON in DataTable
                table.rows.add(dataSet).draw();

                // add announce ===========================================
                // ========================================================

                $('#AddAnnounce').click(function (e) { //ปุ่มสร้างข่าว
                    //    alert("ok")
                    $("#Head").val('');
                    $("#Detail").val('');
                    $("#Date").val('');
                    $("#upload-label").text('เลือกรูป')
                    $("#exampleModalLabel").text('สร้างข่าวประชาสัมพันธ์')
                    $("#ModalAnnounceAdd").modal('toggle');
                    $("#btnAdd").show();
                    $("#btnEdit").hide();

                });

                $('#btnAdd').click(function (e) {

                    $('form').submit(function (e) {  //ปุ่มยืนยันใน modal
                        e.preventDefault();
                        // alert("aaa")
                        const formData = new FormData(this);
                        var head = $("#Head").val();
                        var detail = $("#Detail").val();
                        var Date1 = $("#Date").val();
                        // fileName = $("#PhotoOfAnnounce").val();
                        // alert(fileName)



                        // if (head == '' || detail == '' || Date1 == '') {

                        //     swal({
                        //         title: "กรุณาเลือกข้อมูล",
                        //         // text: "You will not be able to recover this imaginary file!",
                        //         type: "info",
                        //         showCancelButton: false,
                        //         confirmButtonClass: "btn-primary",
                        //         // cancelButtonClass: "btn-primary",
                        //         confirmButtonText: "ตกลง",
                        //         // cancelButtonText: "ยกเลิก",
                        //         closeOnConfirm: true,
                        //         // closeOnCancel: true
                        //     }, function (isConfirm) {
                        //         window.location.replace("/announce")
                        //     })


                        //     return;
                        //     // break stopAdd;
                        // }
                        // else {
                        if ($("#upload")[0].files.length == 0) {
                            image1 = ''
                            $.ajax({
                                method: "POST",
                                url: "/AddAnnounce/" + EmailOwner,
                                data: { Head: head, Detail: detail, DateEndCreate: Date1, Image: image1 },
                            }).done(function (dataSet, state, xhr) {
                                swal({
                                    title: "สำเร็จ",
                                    type: "success",
                                    // showCancelButton: false,
                                    confirmButtonClass: "btn-success",
                                    // cancelButtonClass: "btn-primary",
                                    confirmButtonText: "ยืนยัน",
                                    // cancelButtonText: "ยกเลิก",
                                    closeOnConfirm: false,
                                    closeOnCancel: true
                                },
                                    function (isConfirm) {
                                        if (isConfirm) {
                                            window.location.replace(dataSet)
                                        }
                                    });
                                // window.location.replace(dataSet)
                            }).fail(function (xhr, state, error) {

                            })
                        }
                        else {

                            $.ajax({
                                method: "POST",
                                url: "/UploadingPhoto",
                                data: formData,
                                contentType: false,
                                processData: false,
                            }).done(function (dataSet, state, xhr) {
                                console.log(dataSet)
                                var image = dataSet;
                                $.ajax({
                                    type: "POST",
                                    url: "/AddAnnounce/" + EmailOwner,
                                    data: { Head: head, Detail: detail, DateEndCreate: Date1, Image: image },
                                }).done(function (dataSet, state, xhr) {
                                    swal({
                                        title: "สำเร็จ",
                                        type: "success",
                                        // showCancelButton: false,
                                        confirmButtonClass: "btn-success",
                                        // cancelButtonClass: "btn-primary",
                                        confirmButtonText: "ยืนยัน",
                                        // cancelButtonText: "ยกเลิก",
                                        closeOnConfirm: false,
                                        closeOnCancel: true
                                    },
                                        function (isConfirm) {
                                            if (isConfirm) {
                                                window.location.replace(dataSet)
                                            }
                                        });
                                    // window.location.replace(dataSet)
                                }).fail(function (xhr, state, error) {

                                })

                            }).fail(function (xhr, state, error) {

                            })
                        }

                        // }



                    });

                });

                // end add announde ===========================================
                // ========================================================


                // edit announce ===========================================
                // ========================================================
                $('#myTable tbody').on('click', '.edit', function () {
                    const currentRow = $(this).parents('tr')
                    selectedData = table.row(currentRow).data();
                    number = selectedData.Number
                    // alert(number)
                    $("#btnAdd").hide();
                    // $("#btnAdd").prop('disabled', true);
                    $("#btnEdit").show();

                    $("#exampleModalLabel").text('แก้ไขข่าวประชาสัมพันธ์')
                    $("#Head").val(selectedData.Head);
                    $("#Detail").val(selectedData.Detail);
                    $("#Date").val(selectedData.DateEndCreate);
                    $("#upload-label").text(selectedData.Image)
                    $("#ModalAnnounceAdd").modal('toggle');
                    // $("#uploadEdit").prop("placeholder", ""+selectedData.Image+"").placeholder();

                    $('#btnEdit').click(function (e) {
                        // e.preventDefault();
                        var image1 = selectedData.Image;
                        // alert(image1)
                        $('form').submit(function (e) {  //ปุ่มยืนยันใน modal
                            e.preventDefault();
                            // alert("aaa")
                            const formData = new FormData(this);
                            var head = $("#Head").val();
                            var detail = $("#Detail").val();
                            var Date1 = $("#Date").val();
                            // var image1 = $("#upload-label").val();
                            // fileName = $("#PhotoOfAnnounce").val();
                            // alert(fileName)

                            // if (head == '' || detail == '' || Date1 == '') {

                            //     swal({
                            //         title: "กรุณาเลือกข้อมูล",
                            //         // text: "You will not be able to recover this imaginary file!",
                            //         type: "info",
                            //         showCancelButton: false,
                            //         confirmButtonClass: "btn-primary",
                            //         // cancelButtonClass: "btn-primary",
                            //         confirmButtonText: "ตกลง",
                            //         // cancelButtonText: "ยกเลิก",
                            //         closeOnConfirm: true,
                            //         // closeOnCancel: true
                            //     }, function (isConfirm) {
                            //         window.location.replace("/announce")
                            //     })


                            //     // return;
                            // }
                            // else {

                            if ($("#upload")[0].files.length == 0) {
                                // image1 = ''
                                $.ajax({
                                    type: "PUT",
                                    url: "/EditAnnounce/" + EmailOwner + "/" + number,
                                    data: { Head: head, Detail: detail, DateEndCreate: Date1, Image: image1 },
                                }).done(function (dataSet, state, xhr) {
                                    swal({
                                        title: "สำเร็จ",
                                        type: "success",
                                        // showCancelButton: false,
                                        confirmButtonClass: "btn-success",
                                        // cancelButtonClass: "btn-primary",
                                        confirmButtonText: "ยืนยัน",
                                        // cancelButtonText: "ยกเลิก",
                                        closeOnConfirm: false,
                                        closeOnCancel: true
                                    },
                                        function (isConfirm) {
                                            if (isConfirm) {
                                                window.location.replace(dataSet)
                                            }
                                        });
                                    // window.location.replace(dataSet)
                                }).fail(function (xhr, state, error) {

                                })
                            }
                            else {

                                $.ajax({
                                    method: "POST",
                                    url: "/UploadingPhoto",
                                    data: formData,
                                    contentType: false,
                                    processData: false,
                                }).done(function (dataSet, state, xhr) {
                                    console.log(dataSet)
                                    // alert(number)
                                    var image = dataSet;
                                    $.ajax({
                                        type: "PUT",
                                        url: "/EditAnnounce/" + EmailOwner + "/" + number,
                                        data: { Head: head, Detail: detail, DateEndCreate: Date1, Image: image },
                                    }).done(function (dataSet, state, xhr) {
                                        swal({
                                            title: "สำเร็จ",
                                            type: "success",
                                            // showCancelButton: false,
                                            confirmButtonClass: "btn-success",
                                            // cancelButtonClass: "btn-primary",
                                            confirmButtonText: "ยืนยัน",
                                            // cancelButtonText: "ยกเลิก",
                                            closeOnConfirm: false,
                                            closeOnCancel: true
                                        },
                                            function (isConfirm) {
                                                if (isConfirm) {
                                                    window.location.replace(dataSet)
                                                }
                                            });
                                        // window.location.replace(dataSet)
                                    }).fail(function (xhr, state, error) {

                                    })

                                }).fail(function (xhr, state, error) {

                                })
                            }


                            // }

                        });
                        // return true;
                    });


                });
                // end edit announce ===========================================
                // =============================================================

                // update announce ===========================================
                // ========================================================
                $('#myTable tbody').on('click', '.delete', function () {
                    const currentRow = $(this).parents('tr')
                    selectedData = table.row(currentRow).data();
                    number = selectedData.Number

                    $.ajax({
                        method: "DELETE",
                        url: "/DeleteAnnounce/" + number,
                    }).done(function (dataSet, state, xhr) {

                        swal({
                            title: "สำเร็จ",
                            type: "success",
                            // showCancelButton: false,
                            confirmButtonClass: "btn-success",
                            // cancelButtonClass: "btn-primary",
                            confirmButtonText: "ยืนยัน",
                            // cancelButtonText: "ยกเลิก",
                            closeOnConfirm: false,
                            closeOnCancel: true
                        },
                            function (isConfirm) {
                                if (isConfirm) {
                                    window.location.replace(dataSet)
                                }
                            });
                        // window.location.replace(dataSet)
                    }).fail(function (xhr, state, error) {

                    })
                })

                // end update announce ===========================================
                // ========================================================


            }).fail(function (xhr, state, error) {

            })
        }

        // Function crate table End =======================
        //=================================================


        function getItem() {
            //get users from DB
            $.ajax({
                method: "GET",
                url: "/profile/infouser"
            }).done(function (data, state, xhr) {
                $(".user").html(data.name);
                EmailOwner = data.email;
                document.getElementById('pic').src = data.photo;
                if (data.email === undefined) {
                    window.location.replace("/checkpage")
                } else {
                    $.ajax({
                        method: "GET",
                        url: "/manageUser/showAllUsers/" + data.email
                    }).done(function (dataSet, state, xhr) {
                        console.log(dataSet)
                        if (dataSet[0] === undefined) {

                            window.location.replace("/checkpage")
                        }
                        if (dataSet[0].Role == 2) {
                            $("#managUser").hide();
                            $("#manageu").hide();
                        }
                        for (let i = 0; i < dataSet.length; i++) {
                            if (dataSet[i].role == 2) {
                                dataSet[i].role = "กรรมการ"
                            } else if (dataSet[i].role == 1) {
                                dataSet[i].role = "ผู้ดูแลระบบ"
                            }
                        }
                        $("#rol2").html(dataSet[0].role)



                    }).fail(function (xhr, state, error) {
                        //get data failed
                        $(".alertText").html(xhr.responseText)
                        $("#alertmodal").modal();
                    });
                }

                ///////////////////////////เพิ่มชื่อ ในดาต้าเบส ////////////////////////////
                $.ajax({
                    method: "PUT",
                    url: "/manageUser/updatename/" + data.name + "/" + data.email
                }).done(function (data, state, xhr) {


                }).fail(function (xhr, state, error) {
                    //get data failed


                });
            }).fail(function (xhr, state, error) {
                //get data failed
                $(".alertText").html(xhr.responseText)
                $("#alertmodal").modal();
            });

            // $('#adduser').on('click', function () {
            //     $(".bd-example-modal-lg").modal();

            // });


        }
    </script>
</head>

<body style="background-color:rgba(255, 255, 255, 0.768)">
    <div class="dashboard-main-wrapper">
        <!-- navbar -->
        <!-- ============================================================== -->
        <div class="dashboard-header">
            <nav class="navbar navbar-expand-lg bg-white fixed-top">
                <div class="row">
                    <div class="col-sm-2 ml-4">
                        <img src="img/logoit.JPG" style="width: 280px;">
                    </div>
                </div>

                <ul class="navbar-nav ml-auto navbar-right-top">

                    <li class="nav-item dropdown notification">

                        <ul class="dropdown-menu dropdown-menu-right notification-dropdown">

                            <li>
                                <div class="list-footer"> <a href="#">การแจ้งเตือนทั้งหมด</a></div>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown nav-user">
                        <a class="nav-link nav-user-img" href="#" id="navbarDropdownMenuLink2" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false"><img id="pic" src="assets/images/avatar-1.jpg"
                                alt="" class="user-avatar-md rounded-circle"></a>
                        <div class="dropdown-menu dropdown-menu-right nav-user-dropdown"
                            aria-labelledby="navbarDropdownMenuLink2">
                            <div class="nav-user-info">
                                <h5 class="mb-0 text-white nav-user-name user" id="user">Ruttathorn </h5>
                                <span class="status"></span><span class="ml-2" id="rol2">กรรมการ</span>
                            </div>
                            <a class="dropdown-item" href="/auth/logout"><i
                                    class="fas fa-power-off mr-2"></i>ออกจากระบบ</a>
                        </div>
                    </li>
                </ul>

            </nav>
        </div>
        <!-- ============================================================== -->
        <!-- จบ navbar -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- navbar ด้านข้าง -->
        <!-- ============================================================== -->
    </div>

    <div class="nav-left-sidebar sidebar-light">
        <div class="menu-list">
            <nav class="navbar navbar-expand-lg navbar-light">
                <a class="d-xl-none d-lg-none" href="#">Dashboard</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav flex-column">

                        <li class="nav-item">
                            <a class="nav-link" href="/mainpage" aria-expanded="false"><i
                                    class="fa fa-home"></i>หน้าหลัก
                            </a>
                            <div id="submenu-1" class="collapse submenu">
                                <ul class="nav flex-column">

                                </ul>
                            </div>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link " href="/User_history" aria-expanded="false"><i
                                    class="fa fa-user"></i>โปรไฟล์ </a>
                            <div id="submenu-1" class="collapse submenu">
                                <ul class="nav flex-column">

                                </ul>
                            </div>
                        </li>

                        <li class="nav-item ">
                            <a class="nav-link" href="/dashboard" aria-expanded="false"><i
                                    class="fa fa-dashboard"></i>แดชบอร์ด </a>
                            <div id="submenu-1" class="collapse submenu">
                                <ul class="nav flex-column">

                                </ul>
                            </div>
                        </li>

                        <li class="nav-item ">
                            <a class="nav-link" href="/asset" aria-expanded="false"><i
                                    class="fa fa-archive"></i>ครุภัณฑ์ </a>
                            <div id="submenu-1" class="collapse submenu">
                                <ul class="nav flex-column">

                                </ul>
                            </div>
                        </li>

                        <li class="nav-item ">
                            <a class="nav-link active" href="/announce" aria-expanded="false"><i
                                    class="fa fa-bullhorn"></i>ข่าวประชาสัมพันธ์ </a>
                            <div id="submenu-1" class="collapse submenu">
                                <ul class="nav flex-column">

                                </ul>
                            </div>
                        </li>

                        <li class="nav-item " id="manageu">
                            <a class="nav-link " href="/manageUser" aria-expanded="false"><i
                                    class="fa fa-edit"></i>จัดการผู้ใช้
                            </a>
                            <div id="submenu-1" class="collapse submenu">
                                <ul class="nav flex-column">

                                </ul>
                            </div>
                        </li>

                        <li class="nav-item ">
                            <a class="nav-link " href="/Date_manage" aria-expanded="false"><i
                                    class="fa fa-clock"></i>จัดการเวลา
                            </a>
                            <div id="submenu-1" class="collapse submenu">
                                <ul class="nav flex-column">
                                </ul>

                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>

    </div>
    <!-- ============================================================== -->
    <!-- เสร็จ navbar -->
    <!-- ============================================================== -->
    <div class="dashboard-wrapper mt-1">
        <div class="dashboard-finance">
            <div class="container-fluid dashboard-content">
                <!-- ============================================================== -->

                <div class="head-line title-head-line">
                    <span class="badge badge-primary ">
                        <h4 class="text-light"> ข่าวประชาสัมพันธ์ </h4>
                    </span>
                </div>

                <div class="row ">
                    <div class="col-xl-8 col-lg-8 col-md-8 col-sm-8 col-8 mt-3 mb-3">
                        <div class="input-group mb-3">
                            <div id="container2"></div>
                        </div>
                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 mt-3 mb-3 text-right">
                        <div class="btn btn-success text-light" id="AddAnnounce">
                            สร้างข่าว
                        </div>
                    </div>
                </div>

                <!-- <div class="row"> -->
                <div class="">
                    <table id="myTable" class="table table-striped table-bordered mt-3" style="width:100%">
                    </table>
                </div>
                <!-- </div> -->

            </div>

            <!-- modal Add Announce  -->
            <!-- ============================================================== -->

            <div class="modal fade bd-example-modal-lg" id="ModalAnnounceAdd" tabindex="-1" Role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true">
                <div class="modal-dialog" Role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">สร้างข่าวประชาสัมพันธ์</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="CloseModal">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <form action="" enctype="multipart/form-data" id="formAddAnnounce">
                            <div class="modal-body">

                                <div class="form-group">
                                    <label for="" class="col-form-label">หัวข้อ : </label>
                                    <input type="text" class="form-control" id="Head" required
                                        oninvalid="this.setCustomValidity('กรุณาใส่ข้อมูล')"
                                        oninput="this.setCustomValidity('')">
                                </div>

                                <div class="form-group">
                                    <label for="" class="col-form-label">เนื้อหา : </label>
                                    <input type="text" class="form-control" id="Detail" required
                                        oninvalid="this.setCustomValidity('กรุณาใส่ข้อมูล')"
                                        oninput="this.setCustomValidity('')">
                                </div>

                                <div class="form-group">
                                    <label for="recipient-name" class="col-form-label">วันที่ :</label>
                                    <input type="date" class="form-control" name="" id="Date" required
                                        oninvalid="this.setCustomValidity('กรุณาใส่ข้อมูล')"
                                        oninput="this.setCustomValidity('')">
                                </div>


                                <div class="input-group mb-3 px-2 py-2 rounded-pill bg-white shadow-sm">
                                    <input id="upload" type="file" onchange="readURL(this);"
                                        class="form-control border-0" name="filetoupload" accept="image/*">
                                    <label id="upload-label" for="upload"
                                        class="font-weight-light text-muted">เลือกรูป</label>
                                    <div class="input-group-append">
                                        <label for="upload" class="btn btn-light m-0 rounded-pill px-4"> <i
                                                class="fa fa-cloud-upload mr-2 text-muted"></i><small
                                                class="text-uppercase font-weight-bold text-muted">เลือกรูป</small></label>
                                    </div>
                                </div>

                                <!-- Uploaded image area-->
                                <div class="image-area mt-4"><img id="imageResult" src="#" alt=""
                                        class="img-fluid rounded shadow-sm mx-auto d-block"></div>


                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" id="CancelModal"
                                    data-dismiss="modal">ยกเลิก</button>
                                <button type="submit" class="btn btn-primary" value="add" id="btnAdd">ยืนยัน</button>
                                <button type="submit" class="btn btn-primary" value="edit" id="btnEdit">ยืนยัน</button>
                            </div>
                        </form>
                    </div>

                </div>
            </div>

            <!-- modal Add Announce End -->
            <!-- ============================================================== -->


            <!-- footer  -->
            <!-- ============================================================== -->

            <div class="" style="background-color:  rgb(50, 50, 51);  ">
                <div class="row ml-5 mr-5" style="background-color: rgb(50, 50, 51);">
                    <div class="col-xs-12 col-sm-12 col-md-4 mt-5">
                        <h3>
                            <blockquote>
                                <img src="/img/itlogo.png">
                                <h4 style="color:azure;font-size:30px;">สำนักวิชาเทคโนโลยีสารสนเทศ</h4>
                                <div style="border: 0.5px solid red; width: 7cm;"></div>
                                <code style="color: azure;font-size: 20px;">มหาวิทยาลัยแม่ฟ้าหลวง</code>
                            </blockquote>
                        </h3>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-4 mt-5">
                        <div class="copyright">
                            <h4 class="header-footer" style="color: azure;">ติดต่อ <br>
                                <div style="border: 1px solid red; width: 7cm;"></div>
                            </h4>
                            <p style="color: azure; font-size: 14px; font-weight: 200;">
                                สำนักวิชาเทคโนโลยีสารสนเทศ
                                <br>
                                มหาวิทยาลัยแม่ฟ้าหลวง
                                <br>
                                333 หมู่ 1 ตำบลท่าสุด อำเภอเมือง จังหวัดเชียงราย 57100
                                <br>
                                โทรศัพท์ 0 5391 6741-2
                                <br>
                                โทรสาร 0 5391 6743
                                <br>
                                อีเมล: itschool@mfu.ac.th
                            </p>
                            <p></p>
                            <ul class="mfu-social">

                                <a href="https://www.facebook.com/itschool.mfu.page/" target="_blank"
                                    class="facebook-icon mr-3">
                                    <i class="fab fa-facebook">

                                    </i>
                                </a>

                                <a href="https://www.youtube.com/channel/UCbvvlT0UyZHCYdPTXL7vHXQ/featured"
                                    target="_blank" class="youtube-icon">
                                    <i class="fab fa-youtube">

                                    </i>
                                </a>
                            </ul>
                            <p></p>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-4 mt-5"><iframe
                            src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fitschool.mfu.page%2F&amp;tabs=timeline&amp;width=340&amp;height=250&amp;small_header=true&amp;adapt_container_width=true&amp;hide_cover=false&amp;show_facepile=true&amp;appId"
                            width="100%" height="300" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
                            allowtransparency="true" allow="encrypted-media"></iframe>


                    </div>

                </div>
                <a class="scroll-to-top" style="display: none;">
                    <i class="fa fa-long-arrow-up" aria-hidden="true"></i>
                </a>
                <script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag() { dataLayer.push(arguments); }
                    gtag('js', new Date());

                    gtag('config', 'UA-148131712-1');
                </script>
            </div>
            <!-- ============================================================== -->
            <!-- ======================== เสร็จ footer ========================= -->
            <!-- ============================================================== -->
        </div>
    </div>



</body>